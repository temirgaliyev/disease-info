{% extends "base.html" %}
{% block title %}General Statistics{% endblock %}

{% block content %}
<div class="container-fluid">
  <div class="row">
    <div class="col-lg-12">

      <div class="card">
        <div class="card-header border-0">
          <div class="d-flex justify-content-between">
            <h3 class="card-title">Genders by diseases</h3>
          </div>
        </div>
        <div class="card-body">

          <div class="chart">
            <div class="chartjs-size-monitor">
              <div class="chartjs-size-monitor-expand">
                <div class=""></div>
              </div>
              <div class="chartjs-size-monitor-shrink">
                <div class="">

                </div>
              </div>
            </div>
            <canvas id="gender-bar-chart"
              style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%; display: block; width: 561px;"
              width="561" height="250" class="chartjs-render-monitor"></canvas>
          </div>

        </div>
      </div>




      <div class="card">
        <div class="card-header border-0">
          <div class="d-flex justify-content-between">
            <h3 class="card-title">Cardio related statistics by age</h3>
          </div>
        </div>
        <div class="card-body">

          <div class="position-relative mb-4">
            <canvas id="cardio-chart" height="200"></canvas>
          </div>

          <div class="d-flex flex-row justify-content-end">
            <span class="mr-3">
              <i class="fas fa-square" style="color:rgb(58, 50, 136)"></i> Cardio Disease
            </span>
            <span class="mr-3">
              <i class="fas fa-square" style="color:rgb(101, 207, 101)"></i> Smoker
            </span>
            <span class="mr-3">
              <i class="fas fa-square" style="color:rgb(226, 146, 41)"></i> Alcohol
            </span>
            <span class="mr-3">
              <i class="fas fa-square" style="color:rgb(83, 87, 83)"></i> Active
            </span>
            <span class="mr-3">
              <i class="fas fa-square" style="color:#1fd3ac"></i> Hypertension
            </span>
            <span class="mr-3">
              <i class="fas fa-square" style="color:#d11f1f"></i> Diabetes
            </span>
          </div>
        </div>
      </div>


      <div class="card">
        <div class="card-header border-0">
          <div class="d-flex justify-content-between">
            <h3 class="card-title">Heart related statistics by age</h3>
          </div>
        </div>
        <div class="card-body">

          <div class="position-relative mb-4">
            <canvas id="heart-chart" height="200"></canvas>
          </div>

          <div class="d-flex flex-row justify-content-end">
            <span class="mr-3">
              <i class="fas fa-square" style="color:rgb(58, 50, 136)"></i> Heart Disease
            </span>
            <span class="mr-3">
              <i class="fas fa-square" style="color:rgb(101, 207, 101)"></i> Hypertension
            </span>
            <span class="mr-3">
              <i class="fas fa-square" style="color:rgb(226, 146, 41)"></i> Diabetes
            </span>
            <span class="mr-3">
              <i class="fas fa-square" style="color:rgb(83, 87, 83)"></i> Cardio-Vascular Disease
            </span>
          </div>
        </div>
      </div>


      <div class="card">
        <div class="card-header border-0">
          <div class="d-flex justify-content-between">
            <h3 class="card-title">Kidney related statistics by age</h3>
          </div>
        </div>
        <div class="card-body">

          <div class="position-relative mb-4">
            <canvas id="kidney-chart" height="200"></canvas>
          </div>

          <div class="d-flex flex-row justify-content-end">
            <span class="mr-3">
              <i class="fas fa-square" style="color:rgb(58, 50, 136)"></i> Kidney Disease
            </span>
            <span class="mr-3">
              <i class="fas fa-square" style="color:rgb(101, 207, 101)"></i> Hypertension
            </span>
            <span class="mr-3">
              <i class="fas fa-square" style="color:rgb(226, 146, 41)"></i> Diabetes
            </span>
            <span class="mr-3">
              <i class="fas fa-square" style="color:rgb(83, 87, 83)"></i> Cardio-Vascular Disease
            </span>
            <span class="mr-3">
              <i class="fas fa-square" style="color:rgb(83, 87, 83)"></i> Appetite
            </span>
          </div>
        </div>
      </div>


    </div>
  </div>
</div>


{% endblock %}

{% block scripts %}
<script>
  document.getElementById("general-stats").classList.add("active");
</script>

<script src="plugins/chart.js/Chart.min.js"></script>

<script>
  $(function () {
    var ticksStyle = {
      fontColor: '#495057',
      fontStyle: 'bold'
    }
    var mode = 'index'
    var intersect = true

    new Chart($('#cardio-chart'), {
      data: {
        labels: {{ data['cardio']['ages'] }},
    datasets: [{
      type: 'line',
      data: {{ data['cardio']['disease'] }},
    backgroundColor: 'transparent',
    borderColor: '#3a3288',
    pointBorderColor: '#3a3288',
    pointBackgroundColor: '#3a3288',
    fill: false
          },
    {
      type: 'line',
      data: {{ data['cardio']['smoke'] }},
    backgroundColor: 'tansparent',
    borderColor: '#65cf65',
    pointBorderColor: '#65cf65',
    pointBackgroundColor: '#65cf65',
    fill: false
          },
    {
      type: 'line',
      data: {{ data['cardio']['alcohol'] }},
    backgroundColor: 'tansparent',
    borderColor: '#e29229',
    pointBorderColor: '#e29229',
    pointBackgroundColor: '#e29229',
    fill: false
          },
    {
      type: 'line',
      data: {{ data['cardio']['active'] }},
    backgroundColor: 'tansparent',
    borderColor: '#535753',
    pointBorderColor: '#535753',
    pointBackgroundColor: '#535753',
    fill: false
          },
    {
      type: 'line',
      data: {{ data['cardio']['hypertension'] }},
    backgroundColor: 'tansparent',
    borderColor: '#1fd3ac',
    pointBorderColor: '#1fd3ac',
    pointBackgroundColor: '#1fd3ac',
    fill: false
          },
    {
      type: 'line',
      data: {{ data['cardio']['diabetes'] }},
    backgroundColor: 'tansparent',
    borderColor: '#d11f1f',
    pointBorderColor: '#d11f1f',
    pointBackgroundColor: '#d11f1f',
    fill: false
          }
  ]
      },
    options: {
    maintainAspectRatio: false,
    tooltips: {
      mode: mode,
      intersect: intersect
    },
    hover: {
      mode: mode,
      intersect: intersect
    },
    legend: {
      display: false
    },
    scales: {
      yAxes: [{
        // display: false,
        gridLines: {
          display: true,
          lineWidth: '4px',
          color: 'rgba(0, 0, 0, .2)',
          zeroLineColor: 'transparent'
        },
        ticks: $.extend({
          beginAtZero: true,
          suggestedMax: 100
        }, ticksStyle)
      }],
      xAxes: [{
        display: true,
        gridLines: {
          display: false
        },
        ticks: ticksStyle
      }]
    }
  }
    })


  new Chart($('#heart-chart'), {
    data: {
      labels: {{ data['heart']['ages'] }},
    datasets: [{
      type: 'line',
      data: {{ data['heart']['disease'] }},
    backgroundColor: 'transparent',
    borderColor: '#3a3288',
    pointBorderColor: '#3a3288',
    pointBackgroundColor: '#3a3288',
    fill: false
          },
    {
      type: 'line',
      data: {{ data['heart']['hypertension'] }},
    backgroundColor: 'tansparent',
    borderColor: '#65cf65',
    pointBorderColor: '#65cf65',
    pointBackgroundColor: '#65cf65',
    fill: false
          },
    {
      type: 'line',
      data: {{ data['heart']['diabetes'] }},
    backgroundColor: 'tansparent',
    borderColor: '#e29229',
    pointBorderColor: '#e29229',
    pointBackgroundColor: '#e29229',
    fill: false
          },
    {
      type: 'line',
      data: {{ data['heart']['cad'] }},
    backgroundColor: 'tansparent',
    borderColor: '#535753',
    pointBorderColor: '#535753',
    pointBackgroundColor: '#535753',
    fill: false
          },
  ]
      },
    options: {
    maintainAspectRatio: false,
    tooltips: {
      mode: mode,
      intersect: intersect
    },
    hover: {
      mode: mode,
      intersect: intersect
    },
    legend: {
      display: false
    },
    scales: {
      yAxes: [{
        // display: false,
        gridLines: {
          display: true,
          lineWidth: '4px',
          color: 'rgba(0, 0, 0, .2)',
          zeroLineColor: 'transparent'
        },
        ticks: $.extend({
          beginAtZero: true,
          suggestedMax: 100
        }, ticksStyle)
      }],
      xAxes: [{
        display: true,
        gridLines: {
          display: false
        },
        ticks: ticksStyle
      }]
    }
  }
    })



  new Chart($('#kidney-chart'), {
    data: {
      labels: {{ data['kidney']['ages'] }},
    datasets: [{
      type: 'line',
      data: {{ data['kidney']['disease'] }},
    backgroundColor: 'transparent',
    borderColor: '#3a3288',
    pointBorderColor: '#3a3288',
    pointBackgroundColor: '#3a3288',
    fill: false
          },
    {
      type: 'line',
      data: {{ data['kidney']['hypertension'] }},
    backgroundColor: 'tansparent',
    borderColor: '#65cf65',
    pointBorderColor: '#65cf65',
    pointBackgroundColor: '#65cf65',
    fill: false
          },
    {
      type: 'line',
      data: {{ data['kidney']['diabetes'] }},
    backgroundColor: 'tansparent',
    borderColor: '#e29229',
    pointBorderColor: '#e29229',
    pointBackgroundColor: '#e29229',
    fill: false
          },
    {
      type: 'line',
      data: {{ data['kidney']['cad'] }},
    backgroundColor: 'tansparent',
    borderColor: '#535753',
    pointBorderColor: '#535753',
    pointBackgroundColor: '#535753',
    fill: false
          },
    {
      type: 'line',
      data: {{ data['kidney']['appetite'] }},
    backgroundColor: 'tansparent',
    borderColor: '#1fd3ac',
    pointBorderColor: '#1fd3ac',
    pointBackgroundColor: '#1fd3ac',
    fill: false
          },
  ]
      },
    options: {
    maintainAspectRatio: false,
    tooltips: {
      mode: mode,
      intersect: intersect
    },
    hover: {
      mode: mode,
      intersect: intersect
    },
    legend: {
      display: false
    },
    scales: {
      yAxes: [{
        // display: false,
        gridLines: {
          display: true,
          lineWidth: '4px',
          color: 'rgba(0, 0, 0, .2)',
          zeroLineColor: 'transparent'
        },
        ticks: $.extend({
          beginAtZero: true,
          suggestedMax: 100
        }, ticksStyle)
      }],
      xAxes: [{
        display: true,
        gridLines: {
          display: false
        },
        ticks: ticksStyle
      }]
    }
  }
    })
  })
</script>

<script src="../../plugins/chart.js/Chart.min.js"></script>

<script>
  $(function () {
    var areaChartData = {
      labels  : {{by_gender['labels'] | safe}},
      datasets: [
        {
          label               : 'Male',
          backgroundColor     : 'rgba(60,141,188,0.9)',
          borderColor         : 'rgba(60,141,188,0.8)',
          pointRadius          : false,
          pointColor          : '#3b8bba',
          pointStrokeColor    : 'rgba(60,141,188,1)',
          pointHighlightFill  : '#fff',
          pointHighlightStroke: 'rgba(60,141,188,1)',
          data                : {{by_gender['male'] | safe}}
        },
        {
          label               : 'Female',
          backgroundColor     : 'rgba(210, 214, 222, 1)',
          borderColor         : 'rgba(210, 214, 222, 1)',
          pointRadius         : false,
          pointColor          : 'rgba(210, 214, 222, 1)',
          pointStrokeColor    : '#c1c7d1',
          pointHighlightFill  : '#fff',
          pointHighlightStroke: 'rgba(220,220,220,1)',
          data                : {{by_gender['female'] | safe}}
        },
      ]
    }

    var areaChartOptions = {
      maintainAspectRatio : false,
      responsive : true,
      legend: {
        display: false
      },
      scales: {
        xAxes: [{
          gridLines : {
            display : false,
          }
        }],
        yAxes: [{
          gridLines : {
            display : false,
          }
        }]
      }
    }

    var barChartCanvas = $('#gender-bar-chart').get(0).getContext('2d')
    var barChartData = $.extend(true, {}, areaChartData)
    var temp0 = areaChartData.datasets[0]
    var temp1 = areaChartData.datasets[1]
    barChartData.datasets[0] = temp1
    barChartData.datasets[1] = temp0

    var barChartOptions = {
      responsive              : true,
      maintainAspectRatio     : false,
      datasetFill             : false
    }

    var barChart = new Chart(barChartCanvas, {
      type: 'bar',
      data: barChartData,
      options: barChartOptions
    })


  })

</script>


{% endblock %}